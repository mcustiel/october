title = "VideoInOverlay"
url = "/video/in/overlay"
layout = "default"
description = "Shows a video in an overlay"
is_hidden = 0

[youtubeVideo]
video = "https://www.youtube.com/watch?v=EBnGBGKAkKc"
width = 640
height = 390
==
<?php
function onStart()
{
    $this->addJs('assets/javascript/overlay.js');
    $this->addCss('assets/css/overlay.css');
}
?>
==
<div id="video-overlay">
    {% component 'youtubeVideo' %}
</div>
{% put bottom_scripts %}
<script type="text/javascript">
    var $overlay = new overlay('video-overlay');
    youtubeVideo_onVideoEnded = function () { console.log('video ended'); $overlay.close(); };
    youtubeVideo_onVideoPlaying = function () { $overlay.open(); };
    youtubeVideo_onVideoPaused = function () { $overlay.close(); };
    youtubeVideo_onVideoBuffering = function () { console.log('video buffering'); };
    youtubeVideo_onVideoCued = function () { console.log('video cued'); };
</script>
{% endput %}